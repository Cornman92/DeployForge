<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="DeployForge.App.Views.WelcomePage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:DeployForge.App.Views"
    xmlns:vm="using:DeployForge.App.ViewModels"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <ScrollViewer Padding="40">
        <StackPanel MaxWidth="1200">
            
            <!-- Header -->
            <StackPanel Margin="0,0,0,32">
                <TextBlock 
                    Text="Welcome to DeployForge" 
                    Style="{StaticResource DeployForgePageHeaderStyle}"/>
                <TextBlock 
                    Text="Create customized Windows deployment images with ease"
                    Style="{StaticResource DeployForgeSubtitleStyle}"
                    FontSize="16"/>
            </StackPanel>
            
            <!-- Drop Zone for Image Selection -->
            <Border 
                x:Name="DropZone"
                Style="{StaticResource DropZoneStyle}"
                AllowDrop="True"
                DragOver="DropZone_DragOver"
                DragLeave="DropZone_DragLeave"
                Drop="DropZone_Drop">
                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                    <FontIcon 
                        Glyph="&#xE896;" 
                        FontSize="48"
                        Foreground="{StaticResource DeployForgePrimaryBrush}"
                        HorizontalAlignment="Center"/>
                    <TextBlock 
                        Text="Drop a Windows image here"
                        FontSize="18"
                        FontWeight="SemiBold"
                        HorizontalAlignment="Center"
                        Margin="0,16,0,8"/>
                    <TextBlock 
                        Text="Supports WIM, ESD, VHD, VHDX, and ISO files"
                        Opacity="0.6"
                        HorizontalAlignment="Center"/>
                    <TextBlock 
                        Text="or"
                        Opacity="0.4"
                        HorizontalAlignment="Center"
                        Margin="0,16"/>
                    <Button 
                        Content="Browse for Image"
                        Style="{StaticResource DeployForgePrimaryButtonStyle}"
                        HorizontalAlignment="Center"
                        Click="BrowseButton_Click"/>
                </StackPanel>
            </Border>
            
            <!-- Quick Actions -->
            <TextBlock 
                Text="Quick Actions" 
                Style="{StaticResource DeployForgeSectionHeaderStyle}"/>
            
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <!-- Gaming Profile -->
                <Button 
                    Grid.Column="0" 
                    Style="{StaticResource ProfileCardButtonStyle}"
                    Margin="0,0,8,0"
                    Click="GamingProfile_Click">
                    <StackPanel>
                        <FontIcon Glyph="&#xE7FC;" FontSize="32" Foreground="{StaticResource DeployForgePrimaryBrush}"/>
                        <TextBlock Text="Gaming PC" FontWeight="SemiBold" Margin="0,12,0,4"/>
                        <TextBlock Text="Optimized for gaming performance" Opacity="0.6" TextWrapping="Wrap" FontSize="12"/>
                    </StackPanel>
                </Button>
                
                <!-- Developer Profile -->
                <Button 
                    Grid.Column="1" 
                    Style="{StaticResource ProfileCardButtonStyle}"
                    Margin="4,0"
                    Click="DeveloperProfile_Click">
                    <StackPanel>
                        <FontIcon Glyph="&#xE943;" FontSize="32" Foreground="{StaticResource DeployForgePrimaryBrush}"/>
                        <TextBlock Text="Developer" FontWeight="SemiBold" Margin="0,12,0,4"/>
                        <TextBlock Text="Development tools and IDEs" Opacity="0.6" TextWrapping="Wrap" FontSize="12"/>
                    </StackPanel>
                </Button>
                
                <!-- Enterprise Profile -->
                <Button 
                    Grid.Column="2" 
                    Style="{StaticResource ProfileCardButtonStyle}"
                    Margin="4,0"
                    Click="EnterpriseProfile_Click">
                    <StackPanel>
                        <FontIcon Glyph="&#xE770;" FontSize="32" Foreground="{StaticResource DeployForgePrimaryBrush}"/>
                        <TextBlock Text="Enterprise" FontWeight="SemiBold" Margin="0,12,0,4"/>
                        <TextBlock Text="Security and compliance focused" Opacity="0.6" TextWrapping="Wrap" FontSize="12"/>
                    </StackPanel>
                </Button>
                
                <!-- Custom Build -->
                <Button 
                    Grid.Column="3" 
                    Style="{StaticResource ProfileCardButtonStyle}"
                    Margin="8,0,0,0"
                    Click="CustomBuild_Click">
                    <StackPanel>
                        <FontIcon Glyph="&#xE70F;" FontSize="32" Foreground="{StaticResource DeployForgePrimaryBrush}"/>
                        <TextBlock Text="Custom Build" FontWeight="SemiBold" Margin="0,12,0,4"/>
                        <TextBlock Text="Create your own configuration" Opacity="0.6" TextWrapping="Wrap" FontSize="12"/>
                    </StackPanel>
                </Button>
            </Grid>
            
            <!-- Recent Images -->
            <TextBlock 
                Text="Recent Images" 
                Style="{StaticResource DeployForgeSectionHeaderStyle}"
                Visibility="{x:Bind HasRecentImages(ViewModel.RecentImages.Count), Mode=OneWay}"/>
            
            <ListView 
                x:Name="RecentImagesList"
                ItemsSource="{x:Bind ViewModel.RecentImages, Mode=OneWay}"
                SelectionMode="None"
                Visibility="{x:Bind HasRecentImages(ViewModel.RecentImages.Count), Mode=OneWay}">
                <ListView.ItemTemplate>
                    <DataTemplate x:DataType="vm:RecentImageItem">
                        <Border 
                            Style="{StaticResource DeployForgeCardStyle}"
                            Margin="0,4"
                            PointerPressed="RecentImage_Click">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                
                                <FontIcon 
                                    Grid.Column="0"
                                    Glyph="&#xE7C3;"
                                    FontSize="24"
                                    Foreground="{StaticResource DeployForgePrimaryBrush}"
                                    Margin="0,0,16,0"/>
                                
                                <StackPanel Grid.Column="1">
                                    <TextBlock Text="{x:Bind FileName}" FontWeight="SemiBold"/>
                                    <TextBlock Text="{x:Bind Path}" Opacity="0.6" FontSize="12" TextTrimming="CharacterEllipsis"/>
                                </StackPanel>
                                
                                <TextBlock 
                                    Grid.Column="2"
                                    Text="{x:Bind Size}"
                                    Opacity="0.6"
                                    VerticalAlignment="Center"
                                    Margin="16,0"/>
                                
                                <TextBlock 
                                    Grid.Column="3"
                                    Text="{x:Bind LastModified}"
                                    Opacity="0.4"
                                    VerticalAlignment="Center"/>
                            </Grid>
                        </Border>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
            
            <!-- Clear Recent Button -->
            <Button 
                Content="Clear Recent Images"
                HorizontalAlignment="Right"
                Margin="0,8,0,0"
                Visibility="{x:Bind HasRecentImages(ViewModel.RecentImages.Count), Mode=OneWay}"
                Command="{x:Bind ViewModel.ClearRecentCommand}"/>
            
            <!-- Features Overview -->
            <TextBlock 
                Text="Features" 
                Style="{StaticResource DeployForgeSectionHeaderStyle}"/>
            
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <Border Grid.Column="0" Style="{StaticResource DeployForgeFeatureCardStyle}">
                    <StackPanel>
                        <FontIcon Glyph="&#xE74C;" Style="{StaticResource FeatureIconStyle}"/>
                        <TextBlock Text="Debloat &amp; Privacy" FontWeight="SemiBold" Margin="0,12,0,4"/>
                        <TextBlock Text="Remove unwanted apps and enhance privacy settings" Opacity="0.6" TextWrapping="Wrap" FontSize="12"/>
                    </StackPanel>
                </Border>
                
                <Border Grid.Column="1" Style="{StaticResource DeployForgeFeatureCardStyle}">
                    <StackPanel>
                        <FontIcon Glyph="&#xE7FC;" Style="{StaticResource FeatureIconStyle}"/>
                        <TextBlock Text="Gaming Optimization" FontWeight="SemiBold" Margin="0,12,0,4"/>
                        <TextBlock Text="Optimize Windows for gaming performance" Opacity="0.6" TextWrapping="Wrap" FontSize="12"/>
                    </StackPanel>
                </Border>
                
                <Border Grid.Column="2" Style="{StaticResource DeployForgeFeatureCardStyle}">
                    <StackPanel>
                        <FontIcon Glyph="&#xE943;" Style="{StaticResource FeatureIconStyle}"/>
                        <TextBlock Text="Developer Tools" FontWeight="SemiBold" Margin="0,12,0,4"/>
                        <TextBlock Text="Pre-install development environments and tools" Opacity="0.6" TextWrapping="Wrap" FontSize="12"/>
                    </StackPanel>
                </Border>
            </Grid>
            
        </StackPanel>
    </ScrollViewer>
</Page>
